<!-- app/views/articles/index.html.erb -->

<h1 class="text-3xl font-bold mb-6">Articles</h1>

<% if user_signed_in? %>
  <%= link_to 'New Article', new_article_path, class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mb-6 inline-block" %>
<% end %>

<% @articles.each do |article| %>
  <div class="mb-8 p-6 bg-white rounded-lg shadow-md">
    <h2 class="text-2xl font-bold mb-2"><%= link_to article.title, article_path(article), class: "text-blue-600 hover:text-blue-800" %></h2>
    <p class="text-gray-600 mb-2">By: <%= article.user.username %></p>
    <p class="text-gray-800 mb-4"><%= article.summary %></p>
    <div class="mb-2">
      <% article.tags.each do |tag| %>
        <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">#<%= tag.name %></span>
      <% end %>
    </div>
    <p class="text-gray-600 mb-2">Votes: <%= article.vote_total %></p>
    <% if user_signed_in? %>
  <%= button_to 'Upvote', upvote_article_path(article), method: :post, class: "bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mr-2" %>
  <%= button_to 'Downvote', downvote_article_path(article), method: :post, class: "bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded" %>
<% end %>
    <p class="text-gray-600 mt-2">Comments: <%= article.comments.count %></p>
  </div>
<% end %>